<h2>Service information: <?=string.upper(session.section or "")?></h2>
<?
if ( session.section and session.credentials.admin ) then
	local svc = session.section;
	my.svcinfo = Rumble.serviceInfo(svc);
	local svctrl = nil;

	if (my.svcinfo) then
		if (http.form.pause) then
			Rumble.suspendService(session.section);
			svctrl = session.section:upper() .. " suspended!";
		elseif (http.form.start) then
			if (my.svcinfo.enabled == 2) then
				Rumble.resumeService(svc);
				svctrl = session.section:upper() .. " resumed!";
			elseif (my.svcinfo.enabled == 0) then
				Rumble.startService(svc);
				svctrl = session.section:upper() .. " started!";
			else
				svctrl = session.section:upper() .. " is already running!";
			end
		elseif (http.form.stop) then
			Rumble.stopService(svc);
			svctrl = session.section:upper() .. " stopped!";
		end
	else
		svctrl = "No such service: " .. svc:upper();	
	end
	if (svctrl) then
		printf("<div class='notification'>Service notification:<br/>" .. svctrl .. "</div>");
	end
end
?>

Traffic: <?
printf(my.svcinfo.sent + my.svcinfo.received)
?>